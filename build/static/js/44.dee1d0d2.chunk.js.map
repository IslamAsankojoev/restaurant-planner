{"version":3,"file":"static/js/44.dee1d0d2.chunk.js","mappings":"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","sources":["views/app-views/planner/ObjectList.js","views/app-views/planner/DraggableObject.js","views/app-views/planner/Board.js","views/app-views/planner/index.js"],"sourcesContent":["import { PlusCircleOutlined } from '@ant-design/icons';\nimport { Button, Typography } from 'antd';\n\nexport const objectsList = [\n  {\n    id: 1,\n    src: 'http://help.tvoistore.ru/wp-content/uploads/2023/06/stol1.png',\n    name: 'На двоих 1',\n  },\n  {\n    id: 2,\n    src: 'http://help.tvoistore.ru/wp-content/uploads/2023/06/stol2.png',\n    name: 'На двоих 2',\n  },\n  {\n    id: 3,\n    src: 'http://help.tvoistore.ru/wp-content/uploads/2023/06/stol3.png',\n    name: 'На четверых 1',\n  },\n  {\n    id: 4,\n    src: 'http://help.tvoistore.ru/wp-content/uploads/2023/06/stol4.png',\n    name: 'На четверых 2',\n  },\n  {\n    id: 5,\n    src: 'http://help.tvoistore.ru/wp-content/uploads/2023/06/stol5.png',\n    name: 'На четверых 3',\n  },\n  {\n    id: 6,\n    src: 'http://help.tvoistore.ru/wp-content/uploads/2023/06/stol6.png',\n    name: 'На четверых 4',\n  },\n  {\n    id: 7,\n    src: 'http://help.tvoistore.ru/wp-content/uploads/2023/06/stol7.png',\n    name: 'Круглый стол',\n  },\n];\n\nconst ObjectList = ({ onAddObject }) => (\n  <div\n    style={{\n      display: 'flex',\n      flexWrap: 'wrap',\n      gap: '20px',\n    }}\n  >\n    {objectsList.map((object) => (\n      <div\n        style={{\n          position: 'relative',\n          display: 'flex',\n          flexDirection: 'column',\n          gap: '10px',\n          justifyContent: 'center',\n          alignItems: 'center',\n        }}\n      >\n        <img key={object.id} src={object.src} alt=\"\" width={100} draggable={true} />\n        <Typography>{object.name}</Typography>\n        <Button\n          onClick={() => {\n            onAddObject(object.id, 0, 0);\n          }}\n          type=\"link\"\n          size=\"small\"\n        >\n          <PlusCircleOutlined onClick={() => onAddObject(object.id, 0, 0)} />\n          Add to board\n        </Button>\n      </div>\n    ))}\n  </div>\n);\n\nexport default ObjectList;\n","import { useState } from 'react';\nconst DraggableObject = ({ object, onMove, onRemove }) => {\n  const [isDragging, setIsDragging] = useState(false);\n  const [startX, setStartX] = useState(0);\n  const [startY, setStartY] = useState(0);\n\n  return (\n    <img\n      src={object.src}\n      alt=\"\"\n      draggable={false}\n      onDoubleClick={() => onRemove(object.instanceId)}\n      style={{ position: 'absolute', left: object.x, top: object.y, cursor: 'grab' }}\n      onMouseDown={(e) => {\n        setIsDragging(true);\n        setStartX(e.clientX);\n        setStartY(e.clientY);\n      }}\n      onMouseMove={(e) => {\n        if (!isDragging) return;\n        const dx = e.clientX - startX;\n        const dy = e.clientY - startY;\n        onMove(object.instanceId, object.x + dx, object.y + dy);\n        setStartX(e.clientX);\n        setStartY(e.clientY);\n      }}\n      onMouseUp={() => {\n        setIsDragging(false);\n      }}\n      onMouseLeave={() => {\n        setIsDragging(false);\n      }}\n    />\n  );\n};\n\nexport default DraggableObject;\n","import DraggableObject from './DraggableObject';\n\nconst Board = ({ objects, moveObject, removeObject }) => {\n  return (\n    <div\n      style={{\n        position: 'relative',\n        overflow: 'auto',\n        width: '100%',\n        height: '500px',\n        background: '#f0f0f0',\n        border: '1px solid #ccc',\n        backgroundSize: '300px 300px',\n        backgroundImage:\n          'url(https://static.vecteezy.com/system/resources/previews/006/649/753/original/grid-on-a-white-background-paper-for-taking-notes-seamless-square-pattern-lines-and-squares-illustration-free-vector.jpg)',\n      }}\n    >\n      {objects.map((object) => (\n        <DraggableObject\n          key={object.instanceId}\n          object={object}\n          onMove={moveObject}\n          onRemove={removeObject}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default Board;\n","import React, { useState, useRef, useCallback } from 'react';\nimport { saveAs } from 'file-saver';\nimport { Button, Typography } from 'antd';\nimport { objectsList } from './ObjectList';\nimport ObjectList from './ObjectList';\nimport Board from './Board';\n\nconst Planner = () => {\n  const [objects, setObjects] = useState([]);\n  const [instanceCounter, setInstanceCounter] = useState(0);\n  const fileInputRef = useRef(null);\n\n  const addObject = (id, x, y) => {\n    const object = objectsList.find((obj) => obj.id === id);\n    setObjects([...objects, { ...object, x, y, instanceId: instanceCounter }]);\n    setInstanceCounter(instanceCounter + 1);\n  };\n\n  const removeObject = useCallback(\n    (instanceId) => {\n      setObjects(objects.filter((object) => object.instanceId !== instanceId));\n    },\n    [objects],\n  );\n\n  const removeAllObjects = () => {\n    setObjects([]);\n  };\n\n  const moveObject = (instanceId, x, y) => {\n    setObjects(\n      objects.map((object) => {\n        if (object.instanceId === instanceId) {\n          return { ...object, x, y };\n        }\n        return object;\n      }),\n    );\n  };\n\n  const saveToFile = () => {\n    const blob = new Blob([JSON.stringify(objects)], { type: 'application/json' });\n    saveAs(blob, 'restaurant-scheme.json');\n  };\n\n  const handleFileUpload = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = (event) => {\n        try {\n          const data = JSON.parse(event.target.result);\n          setObjects(data);\n        } catch (err) {\n          console.error('Error parsing JSON', err);\n        }\n      };\n      reader.readAsText(file);\n    }\n  };\n\n  const handleFileImport = () => {\n    fileInputRef.current.click();\n  };\n\n  return (\n    <div>\n      <ObjectList onAddObject={addObject} />\n      <br />\n      <div\n        style={{\n          marginBottom: '10px',\n          marginTop: '10px',\n          display: 'flex',\n          gap: '10px',\n        }}\n      >\n        <Button type=\"primary\" size=\"small\" onClick={saveToFile}>\n          Save scheme\n        </Button>\n        <Button type=\"dashed\" size=\"small\" onClick={handleFileImport}>\n          Import scheme\n          <input type=\"file\" hidden ref={fileInputRef} onChange={handleFileUpload} />\n        </Button>\n        <Button danger size=\"small\" onClick={removeAllObjects}>\n          Remove all objects\n        </Button>\n        <Typography\n          style={{\n            marginTop: '10px',\n            color: '#ff9393',\n          }}\n        >\n          or double click on object to remove it\n        </Typography>\n      </div>\n      <Board\n        objects={objects}\n        moveObject={moveObject}\n        addObject={addObject}\n        removeObject={removeObject}\n      />\n    </div>\n  );\n};\nexport default Planner;\n"],"names":["objectsList","id","src","name","onAddObject","style","display","flexWrap","gap","map","object","position","flexDirection","justifyContent","alignItems","alt","width","draggable","onClick","type","size","PlusCircleOutlined","onMove","onRemove","useState","isDragging","setIsDragging","startX","setStartX","startY","setStartY","onDoubleClick","instanceId","left","x","top","y","cursor","onMouseDown","e","clientX","clientY","onMouseMove","dx","dy","onMouseUp","onMouseLeave","objects","moveObject","removeObject","overflow","height","background","border","backgroundSize","backgroundImage","setObjects","instanceCounter","setInstanceCounter","fileInputRef","useRef","addObject","find","obj","useCallback","filter","marginBottom","marginTop","blob","Blob","JSON","stringify","saveAs","current","click","hidden","ref","onChange","file","target","files","reader","FileReader","onload","event","data","parse","result","err","console","error","readAsText","danger","color"],"sourceRoot":""}